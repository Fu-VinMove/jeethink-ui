{"remainingRequest":"/Users/fuwenmu/Downloads/jeethink前后分离开发框架/jeethink快速开发框架（前后分离）_V2.3/jeethink-ui/node_modules/thread-loader/dist/cjs.js!/Users/fuwenmu/Downloads/jeethink前后分离开发框架/jeethink快速开发框架（前后分离）_V2.3/jeethink-ui/node_modules/babel-loader/lib/index.js!/Users/fuwenmu/Downloads/jeethink前后分离开发框架/jeethink快速开发框架（前后分离）_V2.3/jeethink-ui/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/fuwenmu/Downloads/jeethink前后分离开发框架/jeethink快速开发框架（前后分离）_V2.3/jeethink-ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fuwenmu/Downloads/jeethink前后分离开发框架/jeethink快速开发框架（前后分离）_V2.3/jeethink-ui/src/components/Editor/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/fuwenmu/Downloads/jeethink前后分离开发框架/jeethink快速开发框架（前后分离）_V2.3/jeethink-ui/src/components/Editor/index.vue","mtime":1590989844000},{"path":"/Users/fuwenmu/Downloads/jeethink前后分离开发框架/jeethink快速开发框架（前后分离）_V2.3/jeethink-ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuwenmu/Downloads/jeethink前后分离开发框架/jeethink快速开发框架（前后分离）_V2.3/jeethink-ui/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuwenmu/Downloads/jeethink前后分离开发框架/jeethink快速开发框架（前后分离）_V2.3/jeethink-ui/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/fuwenmu/Downloads/jeethink前后分离开发框架/jeethink快速开发框架（前后分离）_V2.3/jeethink-ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuwenmu/Downloads/jeethink前后分离开发框架/jeethink快速开发框架（前后分离）_V2.3/jeethink-ui/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _defineProperty from \"/Users/fuwenmu/Downloads/jeethink\\u524D\\u540E\\u5206\\u79BB\\u5F00\\u53D1\\u6846\\u67B6/jeethink\\u5FEB\\u901F\\u5F00\\u53D1\\u6846\\u67B6\\uFF08\\u524D\\u540E\\u5206\\u79BB\\uFF09_V2.3/jeethink-ui/node_modules/@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport \"core-js/modules/es6.number.constructor\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { getToken } from '@/utils/auth'; // 工具栏配置\n\nvar toolbarOptions = [[\"bold\", \"italic\", \"underline\", \"strike\"], // 加粗 斜体 下划线 删除线\n[\"blockquote\", \"code-block\"], // 引用  代码块\n[{\n  list: \"ordered\"\n}, {\n  list: \"bullet\"\n}], // 有序、无序列表\n[{\n  indent: \"-1\"\n}, {\n  indent: \"+1\"\n}], // 缩进\n[{\n  size: [\"small\", false, \"large\", \"huge\"]\n}], // 字体大小\n[{\n  header: [1, 2, 3, 4, 5, 6, false]\n}], // 标题\n[{\n  color: []\n}, {\n  background: []\n}], // 字体颜色、字体背景颜色\n[{\n  align: []\n}], // 对齐方式\n[\"clean\"], // 清除文本格式\n[\"link\", \"image\", \"video\"] // 链接、图片、视频\n];\nimport { quillEditor } from \"vue-quill-editor\";\nimport \"quill/dist/quill.core.css\";\nimport \"quill/dist/quill.snow.css\";\nimport \"quill/dist/quill.bubble.css\";\nexport default {\n  props: {\n    /* 编辑器的内容 */\n    value: {\n      type: String\n    },\n\n    /* 图片大小 */\n    maxSize: {\n      type: Number,\n      default: 4000 //kb\n\n    }\n  },\n  components: {\n    quillEditor: quillEditor\n  },\n  data: function data() {\n    var _editorOption, _ref;\n\n    return _ref = {\n      content: this.value,\n      uploadImgUrl: \"\",\n      editorOption: (_editorOption = {\n        placeholder: \"\",\n        theme: \"snow\"\n      }, _defineProperty(_editorOption, \"placeholder\", \"请输入内容\"), _defineProperty(_editorOption, \"modules\", {\n        toolbar: {\n          container: toolbarOptions,\n          handlers: {\n            image: function image(value) {\n              if (value) {\n                // 触发input框选择图片文件\n                document.querySelector(\".quill-img input\").click();\n              } else {\n                this.quill.format(\"image\", false);\n              }\n            }\n          }\n        }\n      }), _editorOption)\n    }, _defineProperty(_ref, \"uploadImgUrl\", process.env.VUE_APP_BASE_API + \"/common/upload\"), _defineProperty(_ref, \"headers\", {\n      Authorization: 'Bearer ' + getToken()\n    }), _ref;\n  },\n  watch: {\n    value: function value() {\n      this.content = this.value;\n    }\n  },\n  methods: {\n    onEditorBlur: function onEditorBlur() {//失去焦点事件\n    },\n    onEditorFocus: function onEditorFocus() {//获得焦点事件\n    },\n    onEditorChange: function onEditorChange() {\n      //内容改变事件\n      this.$emit(\"input\", this.content);\n    },\n    // 富文本图片上传前\n    quillImgBefore: function quillImgBefore(file) {\n      var fileType = file.type;\n\n      if (fileType === 'image/jpeg' || fileType === 'image/png') {\n        return true;\n      } else {\n        this.$message.error('请插入图片类型文件(jpg/jpeg/png)');\n        return false;\n      }\n    },\n    quillImgSuccess: function quillImgSuccess(res, file) {\n      // res为图片服务器返回的数据\n      // 获取富文本组件实例\n      var quill = this.$refs.quillEditor.quill; // 如果上传成功\n\n      if (res.code == 200) {\n        // 获取光标所在位置\n        var length = quill.getSelection().index; // 插入图片  res.url为服务器返回的图片地址\n\n        quill.insertEmbed(length, \"image\", res.url); // 调整光标到最后\n\n        quill.setSelection(length + 1);\n      } else {\n        this.$message.error(\"图片插入失败\");\n      }\n    },\n    // 富文本图片上传失败\n    uploadError: function uploadError() {\n      // loading动画消失\n      this.$message.error(\"图片插入失败\");\n    }\n  }\n};",null]}