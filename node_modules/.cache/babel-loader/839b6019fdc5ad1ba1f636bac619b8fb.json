{"remainingRequest":"/Users/fuwenmu/Downloads/jeethink前后分离开发框架/jeethink快速开发框架（前后分离）_V2.3/jeethink-ui/node_modules/babel-loader/lib/index.js!/Users/fuwenmu/Downloads/jeethink前后分离开发框架/jeethink快速开发框架（前后分离）_V2.3/jeethink-ui/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/fuwenmu/Downloads/jeethink前后分离开发框架/jeethink快速开发框架（前后分离）_V2.3/jeethink-ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fuwenmu/Downloads/jeethink前后分离开发框架/jeethink快速开发框架（前后分离）_V2.3/jeethink-ui/src/components/Editor/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/fuwenmu/Downloads/jeethink前后分离开发框架/jeethink快速开发框架（前后分离）_V2.3/jeethink-ui/src/components/Editor/index.vue","mtime":1590989844000},{"path":"/Users/fuwenmu/Downloads/jeethink前后分离开发框架/jeethink快速开发框架（前后分离）_V2.3/jeethink-ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuwenmu/Downloads/jeethink前后分离开发框架/jeethink快速开发框架（前后分离）_V2.3/jeethink-ui/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/fuwenmu/Downloads/jeethink前后分离开发框架/jeethink快速开发框架（前后分离）_V2.3/jeethink-ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuwenmu/Downloads/jeethink前后分离开发框架/jeethink快速开发框架（前后分离）_V2.3/jeethink-ui/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\"use strict\";\n\nvar _interopRequireDefault = require(\"/Users/fuwenmu/Downloads/jeethink\\u524D\\u540E\\u5206\\u79BB\\u5F00\\u53D1\\u6846\\u67B6/jeethink\\u5FEB\\u901F\\u5F00\\u53D1\\u6846\\u67B6\\uFF08\\u524D\\u540E\\u5206\\u79BB\\uFF09_V2.3/jeethink-ui/node_modules/@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"/Users/fuwenmu/Downloads/jeethink\\u524D\\u540E\\u5206\\u79BB\\u5F00\\u53D1\\u6846\\u67B6/jeethink\\u5FEB\\u901F\\u5F00\\u53D1\\u6846\\u67B6\\uFF08\\u524D\\u540E\\u5206\\u79BB\\uFF09_V2.3/jeethink-ui/node_modules/@babel/runtime-corejs2/helpers/defineProperty\"));\n\nrequire(\"core-js/modules/es6.number.constructor\");\n\nvar _auth = require(\"@/utils/auth\");\n\nvar _vueQuillEditor = require(\"vue-quill-editor\");\n\nrequire(\"quill/dist/quill.core.css\");\n\nrequire(\"quill/dist/quill.snow.css\");\n\nrequire(\"quill/dist/quill.bubble.css\");\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n// 工具栏配置\nvar toolbarOptions = [[\"bold\", \"italic\", \"underline\", \"strike\"], // 加粗 斜体 下划线 删除线\n[\"blockquote\", \"code-block\"], // 引用  代码块\n[{\n  list: \"ordered\"\n}, {\n  list: \"bullet\"\n}], // 有序、无序列表\n[{\n  indent: \"-1\"\n}, {\n  indent: \"+1\"\n}], // 缩进\n[{\n  size: [\"small\", false, \"large\", \"huge\"]\n}], // 字体大小\n[{\n  header: [1, 2, 3, 4, 5, 6, false]\n}], // 标题\n[{\n  color: []\n}, {\n  background: []\n}], // 字体颜色、字体背景颜色\n[{\n  align: []\n}], // 对齐方式\n[\"clean\"], // 清除文本格式\n[\"link\", \"image\", \"video\"] // 链接、图片、视频\n];\nvar _default = {\n  props: {\n    /* 编辑器的内容 */\n    value: {\n      type: String\n    },\n\n    /* 图片大小 */\n    maxSize: {\n      type: Number,\n      default: 4000 //kb\n\n    }\n  },\n  components: {\n    quillEditor: _vueQuillEditor.quillEditor\n  },\n  data: function data() {\n    var _editorOption, _ref;\n\n    return _ref = {\n      content: this.value,\n      uploadImgUrl: \"\",\n      editorOption: (_editorOption = {\n        placeholder: \"\",\n        theme: \"snow\"\n      }, (0, _defineProperty2.default)(_editorOption, \"placeholder\", \"请输入内容\"), (0, _defineProperty2.default)(_editorOption, \"modules\", {\n        toolbar: {\n          container: toolbarOptions,\n          handlers: {\n            image: function image(value) {\n              if (value) {\n                // 触发input框选择图片文件\n                document.querySelector(\".quill-img input\").click();\n              } else {\n                this.quill.format(\"image\", false);\n              }\n            }\n          }\n        }\n      }), _editorOption)\n    }, (0, _defineProperty2.default)(_ref, \"uploadImgUrl\", process.env.VUE_APP_BASE_API + \"/common/upload\"), (0, _defineProperty2.default)(_ref, \"headers\", {\n      Authorization: 'Bearer ' + (0, _auth.getToken)()\n    }), _ref;\n  },\n  watch: {\n    value: function value() {\n      this.content = this.value;\n    }\n  },\n  methods: {\n    onEditorBlur: function onEditorBlur() {//失去焦点事件\n    },\n    onEditorFocus: function onEditorFocus() {//获得焦点事件\n    },\n    onEditorChange: function onEditorChange() {\n      //内容改变事件\n      this.$emit(\"input\", this.content);\n    },\n    // 富文本图片上传前\n    quillImgBefore: function quillImgBefore(file) {\n      var fileType = file.type;\n\n      if (fileType === 'image/jpeg' || fileType === 'image/png') {\n        return true;\n      } else {\n        this.$message.error('请插入图片类型文件(jpg/jpeg/png)');\n        return false;\n      }\n    },\n    quillImgSuccess: function quillImgSuccess(res, file) {\n      // res为图片服务器返回的数据\n      // 获取富文本组件实例\n      var quill = this.$refs.quillEditor.quill; // 如果上传成功\n\n      if (res.code == 200) {\n        // 获取光标所在位置\n        var length = quill.getSelection().index; // 插入图片  res.url为服务器返回的图片地址\n\n        quill.insertEmbed(length, \"image\", res.url); // 调整光标到最后\n\n        quill.setSelection(length + 1);\n      } else {\n        this.$message.error(\"图片插入失败\");\n      }\n    },\n    // 富文本图片上传失败\n    uploadError: function uploadError() {\n      // loading动画消失\n      this.$message.error(\"图片插入失败\");\n    }\n  }\n};\nexports.default = _default;",{"version":3,"sources":["index.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div>\r\n    <!-- 图片上传组件辅助 -->\r\n    <el-upload\r\n      class=\"avatar-uploader quill-img\"\r\n      :action=\"uploadImgUrl\"\r\n      name=\"file\"\r\n      :headers=\"headers\"\r\n      :show-file-list=\"false\"\r\n      :on-success=\"quillImgSuccess\"\r\n      :on-error=\"uploadError\"\r\n      :before-upload=\"quillImgBefore\"\r\n      accept='.jpg,.jpeg,.png,.gif'\r\n    ></el-upload>\r\n\r\n    <!-- 富文本组件 -->\r\n    <quill-editor\r\n      class=\"editor\"\r\n      v-model=\"content\"\r\n      ref=\"quillEditor\"\r\n      :options=\"editorOption\"\r\n      @blur=\"onEditorBlur($event)\"\r\n      @focus=\"onEditorFocus($event)\"\r\n      @change=\"onEditorChange($event)\"\r\n    ></quill-editor>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getToken } from '@/utils/auth'\r\n\r\n// 工具栏配置\r\nconst toolbarOptions = [\r\n  [\"bold\", \"italic\", \"underline\", \"strike\"],       // 加粗 斜体 下划线 删除线\r\n  [\"blockquote\", \"code-block\"],                    // 引用  代码块\r\n  [{ list: \"ordered\" }, { list: \"bullet\" }],       // 有序、无序列表\r\n  [{ indent: \"-1\" }, { indent: \"+1\" }],            // 缩进\r\n  [{ size: [\"small\", false, \"large\", \"huge\"] }],   // 字体大小\r\n  [{ header: [1, 2, 3, 4, 5, 6, false] }],         // 标题\r\n  [{ color: [] }, { background: [] }],             // 字体颜色、字体背景颜色\r\n  [{ align: [] }],                                 // 对齐方式\r\n  [\"clean\"],                                       // 清除文本格式\r\n  [\"link\", \"image\", \"video\"]                       // 链接、图片、视频\r\n];\r\n\r\nimport { quillEditor } from \"vue-quill-editor\";\r\nimport \"quill/dist/quill.core.css\";\r\nimport \"quill/dist/quill.snow.css\";\r\nimport \"quill/dist/quill.bubble.css\";\r\n\r\nexport default {\r\n  props: {\r\n    /* 编辑器的内容 */\r\n    value: {\r\n      type: String\r\n    },\r\n    /* 图片大小 */\r\n    maxSize: {\r\n      type: Number,\r\n      default: 4000 //kb\r\n    }\r\n  },\r\n  components: { quillEditor },\r\n  data() {\r\n    return {\r\n      content: this.value,\r\n      uploadImgUrl: \"\",\r\n      editorOption: {\r\n        placeholder: \"\",\r\n        theme: \"snow\", // or 'bubble'\r\n        placeholder: \"请输入内容\",\r\n        modules: {\r\n          toolbar: {\r\n            container: toolbarOptions,\r\n            handlers: {\r\n              image: function(value) {\r\n                if (value) {\r\n                  // 触发input框选择图片文件\r\n                  document.querySelector(\".quill-img input\").click();\r\n                } else {\r\n                  this.quill.format(\"image\", false);\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      },\r\n      uploadImgUrl: process.env.VUE_APP_BASE_API + \"/common/upload\", // 上传的图片服务器地址\r\n      headers: {\r\n        Authorization: 'Bearer ' + getToken()\r\n      }\r\n    };\r\n  },\r\n  watch: {\r\n    value: function() {\r\n      this.content = this.value;\r\n    }\r\n  },\r\n  methods: {\r\n    onEditorBlur() {\r\n      //失去焦点事件\r\n    },\r\n    onEditorFocus() {\r\n      //获得焦点事件\r\n    },\r\n    onEditorChange() {\r\n      //内容改变事件\r\n      this.$emit(\"input\", this.content);\r\n    },\r\n\r\n    // 富文本图片上传前\r\n    quillImgBefore(file) {\r\n      let fileType = file.type;\r\n\t\t\tif(fileType === 'image/jpeg' || fileType === 'image/png'){\r\n\t\t\t\treturn true;\r\n\t\t\t}else {\r\n\t\t\t\tthis.$message.error('请插入图片类型文件(jpg/jpeg/png)');\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n    },\r\n\r\n    quillImgSuccess(res, file) {\r\n      // res为图片服务器返回的数据\r\n      // 获取富文本组件实例\r\n      let quill = this.$refs.quillEditor.quill;\r\n      // 如果上传成功\r\n      if (res.code == 200) {\r\n        // 获取光标所在位置\r\n        let length = quill.getSelection().index;\r\n        // 插入图片  res.url为服务器返回的图片地址\r\n        quill.insertEmbed(length, \"image\", res.url);\r\n        // 调整光标到最后\r\n        quill.setSelection(length + 1);\r\n      } else {\r\n        this.$message.error(\"图片插入失败\");\r\n      }\r\n    },\r\n    // 富文本图片上传失败\r\n    uploadError() {\r\n      // loading动画消失\r\n      this.$message.error(\"图片插入失败\");\r\n    }\r\n  }\r\n};\r\n</script> \r\n\r\n<style>\r\n.editor {\r\n  line-height: normal !important;\r\n  height: 192px;\r\n}\r\n.quill-img {\r\n  display: none;\r\n}\r\n.ql-snow .ql-tooltip[data-mode=\"link\"]::before {\r\n  content: \"请输入链接地址:\";\r\n}\r\n.ql-snow .ql-tooltip.ql-editing a.ql-action::after {\r\n  border-right: 0px;\r\n  content: \"保存\";\r\n  padding-right: 0px;\r\n}\r\n\r\n.ql-snow .ql-tooltip[data-mode=\"video\"]::before {\r\n  content: \"请输入视频地址:\";\r\n}\r\n\r\n.ql-snow .ql-picker.ql-size .ql-picker-label::before,\r\n.ql-snow .ql-picker.ql-size .ql-picker-item::before {\r\n  content: \"14px\";\r\n}\r\n.ql-snow .ql-picker.ql-size .ql-picker-label[data-value=\"small\"]::before,\r\n.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=\"small\"]::before {\r\n  content: \"10px\";\r\n}\r\n.ql-snow .ql-picker.ql-size .ql-picker-label[data-value=\"large\"]::before,\r\n.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=\"large\"]::before {\r\n  content: \"18px\";\r\n}\r\n.ql-snow .ql-picker.ql-size .ql-picker-label[data-value=\"huge\"]::before,\r\n.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=\"huge\"]::before {\r\n  content: \"32px\";\r\n}\r\n\r\n.ql-snow .ql-picker.ql-header .ql-picker-label::before,\r\n.ql-snow .ql-picker.ql-header .ql-picker-item::before {\r\n  content: \"文本\";\r\n}\r\n.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"1\"]::before,\r\n.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"1\"]::before {\r\n  content: \"标题1\";\r\n}\r\n.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"2\"]::before,\r\n.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"2\"]::before {\r\n  content: \"标题2\";\r\n}\r\n.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"3\"]::before,\r\n.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"3\"]::before {\r\n  content: \"标题3\";\r\n}\r\n.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"4\"]::before,\r\n.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"4\"]::before {\r\n  content: \"标题4\";\r\n}\r\n.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"5\"]::before,\r\n.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"5\"]::before {\r\n  content: \"标题5\";\r\n}\r\n.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"6\"]::before,\r\n.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"6\"]::before {\r\n  content: \"标题6\";\r\n}\r\n\r\n.ql-snow .ql-picker.ql-font .ql-picker-label::before,\r\n.ql-snow .ql-picker.ql-font .ql-picker-item::before {\r\n  content: \"标准字体\";\r\n}\r\n.ql-snow .ql-picker.ql-font .ql-picker-label[data-value=\"serif\"]::before,\r\n.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=\"serif\"]::before {\r\n  content: \"衬线字体\";\r\n}\r\n.ql-snow .ql-picker.ql-font .ql-picker-label[data-value=\"monospace\"]::before,\r\n.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=\"monospace\"]::before {\r\n  content: \"等宽字体\";\r\n}\r\n</style>"],"sourceRoot":"src/components/Editor"}]}