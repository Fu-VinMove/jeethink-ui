{"remainingRequest":"/Users/fuwenmu/Downloads/jeethink前后分离开发框架/jeethink快速开发框架（前后分离）_V2.3/jeethink-ui/node_modules/babel-loader/lib/index.js!/Users/fuwenmu/Downloads/jeethink前后分离开发框架/jeethink快速开发框架（前后分离）_V2.3/jeethink-ui/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/fuwenmu/Downloads/jeethink前后分离开发框架/jeethink快速开发框架（前后分离）_V2.3/jeethink-ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fuwenmu/Downloads/jeethink前后分离开发框架/jeethink快速开发框架（前后分离）_V2.3/jeethink-ui/src/views/text.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/fuwenmu/Downloads/jeethink前后分离开发框架/jeethink快速开发框架（前后分离）_V2.3/jeethink-ui/src/views/text.vue","mtime":1607045231120},{"path":"/Users/fuwenmu/Downloads/jeethink前后分离开发框架/jeethink快速开发框架（前后分离）_V2.3/jeethink-ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuwenmu/Downloads/jeethink前后分离开发框架/jeethink快速开发框架（前后分离）_V2.3/jeethink-ui/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/fuwenmu/Downloads/jeethink前后分离开发框架/jeethink快速开发框架（前后分离）_V2.3/jeethink-ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuwenmu/Downloads/jeethink前后分离开发框架/jeethink快速开发框架（前后分离）_V2.3/jeethink-ui/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\"use strict\";\n\nvar _interopRequireDefault = require(\"/Users/fuwenmu/Downloads/jeethink\\u524D\\u540E\\u5206\\u79BB\\u5F00\\u53D1\\u6846\\u67B6/jeethink\\u5FEB\\u901F\\u5F00\\u53D1\\u6846\\u67B6\\uFF08\\u524D\\u540E\\u5206\\u79BB\\uFF09_V2.3/jeethink-ui/node_modules/@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nrequire(\"core-js/modules/es6.regexp.to-string\");\n\nrequire(\"core-js/modules/es6.function.name\");\n\nvar _createForOfIteratorHelper2 = _interopRequireDefault(require(\"/Users/fuwenmu/Downloads/jeethink\\u524D\\u540E\\u5206\\u79BB\\u5F00\\u53D1\\u6846\\u67B6/jeethink\\u5FEB\\u901F\\u5F00\\u53D1\\u6846\\u67B6\\uFF08\\u524D\\u540E\\u5206\\u79BB\\uFF09_V2.3/jeethink-ui/node_modules/@babel/runtime-corejs2/helpers/createForOfIteratorHelper\"));\n\nvar _user = require(\"../api/system/user\");\n\nvar _elementChinaAreaData = require(\"element-china-area-data\");\n\nvar _defendant = _interopRequireDefault(require(\"./components/defendant/defendant\"));\n\nvar _plaintiff = _interopRequireDefault(require(\"./components/plaintiff/plaintiff\"));\n\nvar _factual = _interopRequireDefault(require(\"./components/marriage/factual\"));\n\nvar _claims = _interopRequireDefault(require(\"./components/marriage/claims\"));\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//import {createText} from '../api/text/marry'\nfunction buildTextPlaintiff(plaintiff) {\n  var textPlaintiff = plaintiff;\n  return textPlaintiff;\n}\n\nfunction buildTextDefendant(defendant) {\n  var textDefendant = defendant;\n  return textDefendant;\n}\n\nfunction buildTextFactual(factual) {\n  var textFactual = {};\n  textFactual.acquaintanceTime = factual.acquaintanceTime;\n  textFactual.registerTime = factual.registerTime;\n  var registerPlace = \"\";\n\n  var _iterator = (0, _createForOfIteratorHelper2.default)(factual.registerPlace),\n      _step;\n\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var place = _step.value;\n      registerPlace = registerPlace + _elementChinaAreaData.CodeToText[place];\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n\n  textFactual.registerPlace = registerPlace;\n\n  if (factual.remarrySituation.length > 1) {\n    textFactual.remarrySituationEnum = 'A';\n  } else {\n    if (factual.remarrySituation.length > 0) {\n      if (\"neither\" != factual.remarrySituation[0]) {\n        textFactual.remarrySituationEnum = factual.remarrySituation[0];\n      }\n    }\n  }\n\n  textFactual.childs = factual.childs;\n  textFactual.divorceTime = factual.divorceTime;\n  textFactual.remarryTime = factual.remarryTime;\n  textFactual.divorceReasonList = factual.divorceReasonList;\n  textFactual.sueTime = factual.sueTime;\n  textFactual.suitor = factual.suitor;\n  textFactual.sueResult = factual.sueResult;\n  return textFactual;\n}\n\nfunction buildChildClaimText(childs) {\n  var text = \"婚生\";\n\n  var _iterator2 = (0, _createForOfIteratorHelper2.default)(childs),\n      _step2;\n\n  try {\n    for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n      var child = _step2.value;\n\n      if (\"M\" == child.sex) {\n        text = text + \"儿子\";\n      } else {\n        text = text + \"女儿\";\n      }\n\n      text = text + child.name + \"和\";\n    }\n  } catch (err) {\n    _iterator2.e(err);\n  } finally {\n    _iterator2.f();\n  }\n\n  text = text.substring(0, text.length - 1);\n  text = text + \"由原告抚养,\";\n  return text;\n}\n\nfunction buildTextClaim(claims, factual) {\n  var tempClaims = [];\n  tempClaims.push(\"判令原、被告解除婚姻关系；\");\n  var custodysText = '';\n\n  if (claims.claimCustody == 'Y') {\n    custodysText = buildChildClaimText(factual.childs);\n  } else if (claims.custodys.length > 0) {\n    var childs = [];\n\n    var _iterator3 = (0, _createForOfIteratorHelper2.default)(claims.custodys),\n        _step3;\n\n    try {\n      for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n        var custodyName = _step3.value;\n\n        var _iterator4 = (0, _createForOfIteratorHelper2.default)(factual.childs),\n            _step4;\n\n        try {\n          for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n            var children = _step4.value;\n\n            if (custodyName.toString() == children.name) {\n              childs.push(children);\n            }\n          }\n        } catch (err) {\n          _iterator4.e(err);\n        } finally {\n          _iterator4.f();\n        }\n      }\n    } catch (err) {\n      _iterator3.e(err);\n    } finally {\n      _iterator3.f();\n    }\n\n    custodysText = buildChildClaimText(childs);\n  }\n\n  if (\"Y\" == claims.support) {\n    if (\"M\" == claims.custodyPayAction) {\n      custodysText = custodysText + \"被告依法支付抚养费每月\" + claims.custodyMoney + \"元，直至子女成年；\";\n    } else if (\"O\" == claims.custodyPayAction) {\n      custodysText = custodysText + \"被告依法支付抚养费一次性\" + claims.custodyMoney + \"元，\";\n    }\n  }\n\n  custodysText = custodysText.substring(0, custodysText.length - 1) + \";\";\n  tempClaims.push(custodysText);\n  tempClaims.push(\"本案诉讼费由被告承担。\");\n  var textClaims = [];\n\n  for (var i = 0; i <= tempClaims.length - 1; i++) {\n    textClaims.push(i + 1 + \"、\" + tempClaims[i]);\n  }\n\n  return textClaims;\n}\n\nvar _default = {\n  name: 'demo',\n  data: function data() {\n    return {\n      activeNames: [],\n      steps: [{\n        label: '原告信息',\n        slot: 'page1',\n        nextStepLabel: {\n          default: '下一步'\n        }\n      }, {\n        label: '事实与理由',\n        slot: 'factual'\n      }, {\n        label: '诉讼请求',\n        slot: 'claims',\n        options: {\n          nextDisabled: false // control whether next is disabled or not\n\n        }\n      }],\n      plaintiff: {//原告\n      },\n      defendant: {},\n      //被告\n      factual: {\n        //事实\n        childNum: 0,\n        hasChild: '',\n        remarrySituation: [],\n        childs: [{\n          name: '',\n          sex: '',\n          birth: ''\n        }],\n        divorceReasonList: []\n      },\n      claims: {},\n      nextStepLabel: '下一步',\n      previousStepLabel: '上一步',\n      finalStepLabel: '完成'\n    };\n  },\n  components: {\n    Defendant: _defendant.default,\n    Plaintiff: _plaintiff.default,\n    Factual: _factual.default,\n    Claims: _claims.default\n  },\n  methods: {\n    nextClicked: function nextClicked(currentPage) {\n      var _this = this;\n\n      if (currentPage == 2) {\n        var text = {};\n        text.plaintiff = buildTextPlaintiff(this.plaintiff);\n        text.defendant = buildTextDefendant(this.defendant);\n        text.factual = buildTextFactual(this.factual);\n        text.claims = buildTextClaim(this.claims, this.factual);\n        var data = JSON.stringify(text);\n        (0, _user.createText)(data).then(function (response) {\n          _this.downloadFile(response);\n        }).catch(function (response) {\n          _this.downloadFile(response);\n        });\n      }\n\n      return true;\n    },\n    downloadFile: function downloadFile(data) {\n      var blob = new Blob([data], {\n        type: 'application/docx'\n      });\n      var url = window.URL.createObjectURL(blob);\n      var link = document.createElement('a'); // 创建a标签\n\n      link.href = url;\n      link.download = '起诉状.doc'; // 重命名文件\n\n      link.click();\n      URL.revokeObjectURL(url);\n    },\n    backClicked: function backClicked(currentPage) {\n      return true; //return false if you want to prevent moving to previous page\n    },\n    updateClaims: function updateClaims(data) {\n      this.claims = data;\n    }\n  }\n};\nexports.default = _default;",{"version":3,"sources":["text.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <vue-good-wizard\n      :steps=\"steps\"\n      :onNext=\"nextClicked\"\n      :onBack=\"backClicked\"\n      :previousStepLabel=\"previousStepLabel\"\n      :nextStepLabel=\"nextStepLabel\"\n      :finalStepLabel=\"finalStepLabel\">\n      <div slot=\"page1\">\n        <el-collapse v-model=\"activeNames\">\n          <el-collapse-item title=\"原告人信息\" name=\"1\" style=\"height: auto\">\n            <Plaintiff :plaintiff=\"plaintiff\"></Plaintiff>\n          </el-collapse-item>\n          <el-collapse-item title=\"被告人信息\" name=\"2\">\n            <Defendant :defendant=\"defendant\"></Defendant>\n          </el-collapse-item>\n        </el-collapse>\n      </div>\n      <div slot=\"factual\"  >\n        <Factual ref=\"factual\" style=\"height:auto;\" :factual=\"factual\"></Factual>\n      </div>\n\n\n      <Claims :factual=\"factual\" :initClaims=\"claims\" ref=\"claims\" slot=\"claims\" @updateClaims=\"updateClaims\"></Claims>\n<!--      <div slot=\"page4\">\n        <h4>Step 5</h4>\n        <p>This is step 5</p>\n      </div>\n      <div slot=\"page5\">\n        <h4>Step 6</h4>\n        <p>This is step 6</p>\n      </div>-->\n    </vue-good-wizard>\n</template>\n\n<script>\n\n  //import {createText} from '../api/text/marry'\n  import {createText} from '../api/system/user'\n\n  import { regionData , CodeToText} from 'element-china-area-data';\n  import Defendant from './components/defendant/defendant'\n  import Plaintiff from './components/plaintiff/plaintiff'\n  import Factual from './components/marriage/factual'\n  import Claims from './components/marriage/claims'\n\n  function buildTextPlaintiff(plaintiff) {\n    let textPlaintiff = plaintiff;\n    return textPlaintiff\n  }\n\n  function buildTextDefendant(defendant) {\n    let textDefendant = defendant;\n    return textDefendant\n  }\n\n  function buildTextFactual(factual) {\n    let textFactual = {};\n    textFactual.acquaintanceTime = factual.acquaintanceTime;\n    textFactual.registerTime  = factual.registerTime;\n    let registerPlace =\"\";\n    for( let place of factual.registerPlace){\n      registerPlace=registerPlace+CodeToText[place];\n    }\n    textFactual.registerPlace = registerPlace;\n\n    if(factual.remarrySituation.length > 1){\n      textFactual.remarrySituationEnum = 'A'\n    }else {\n      if(factual.remarrySituation.length > 0){\n        if(\"neither\" != factual.remarrySituation[0]){\n          textFactual.remarrySituationEnum=factual.remarrySituation[0];\n        }\n      }\n    }\n    textFactual.childs = factual.childs;\n    textFactual.divorceTime  =  factual.divorceTime\n    textFactual.remarryTime = factual.remarryTime\n    textFactual.divorceReasonList = factual.divorceReasonList\n    textFactual.sueTime = factual.sueTime\n    textFactual.suitor = factual.suitor\n    textFactual.sueResult = factual.sueResult\n\n    return textFactual\n  }\n\n  function buildChildClaimText(childs) {\n    let text = \"婚生\";\n    for(let child of childs){\n        if(\"M\" == child.sex){\n          text=text + \"儿子\";\n        }else{\n          text=text + \"女儿\";\n        }\n          text=text + child.name +\"和\";\n    }\n    text = text.substring(0,text.length-1);\n    text=text+\"由原告抚养,\"\n    return text;\n  }\n\n  function buildTextClaim(claims,factual) {\n    let tempClaims = [];\n    tempClaims.push(\"判令原、被告解除婚姻关系；\");\n\n    let custodysText = '';\n    if(claims.claimCustody == 'Y'){\n      custodysText =buildChildClaimText(factual.childs);\n    }else if(claims.custodys.length > 0){\n        let childs = [];\n        for(let custodyName of claims.custodys){\n          for(let children of factual.childs){\n            if(custodyName.toString() == children.name){\n              childs.push(children)\n            }\n          }\n        }\n      custodysText =buildChildClaimText(childs)\n    }\n\n    if(\"Y\" == claims.support){\n      if(\"M\" == claims.custodyPayAction){\n        custodysText = custodysText+\"被告依法支付抚养费每月\"+claims.custodyMoney+\"元，直至子女成年；\"\n      }else if(\"O\" == claims.custodyPayAction){\n        custodysText = custodysText+\"被告依法支付抚养费一次性\"+claims.custodyMoney+\"元，\"\n      }\n    }\n    custodysText = custodysText.substring(0,custodysText.length-1)+\";\"\n    tempClaims.push(custodysText);\n    tempClaims.push(\"本案诉讼费由被告承担。\")\n\n    let textClaims = []\n    for(let i=0;i<=tempClaims.length-1;i++){\n      textClaims.push((i+1)+\"、\"+tempClaims[i]);\n    }\n    return textClaims\n  }\n\n  export default {\n    name: 'demo',\n    data() {\n      return {\n        activeNames: [],\n        steps: [\n          {\n            label: '原告信息',\n            slot: 'page1',\n            nextStepLabel: { default: '下一步' }\n          },\n          {\n            label: '事实与理由',\n            slot: 'factual'\n          },\n          {\n            label: '诉讼请求',\n            slot: 'claims',\n            options: {\n              nextDisabled: false // control whether next is disabled or not\n            }\n          }\n        ],\n        plaintiff: {  //原告\n        },\n        defendant: {}, //被告\n        factual:{   //事实\n          childNum: 0,\n          hasChild: '',\n          remarrySituation:[],\n          childs: [{ name: '',sex:'',birth:'' }],\n          divorceReasonList: [],\n        },\n        claims:{},\n        nextStepLabel: '下一步',\n        previousStepLabel: '上一步',\n        finalStepLabel: '完成',\n      }\n    },\n    components:{Defendant,Plaintiff,Factual,Claims},\n    methods: {\n      nextClicked(currentPage) {\n        if(currentPage == 2){\n          let text = {};\n          text.plaintiff=buildTextPlaintiff(this.plaintiff);\n          text.defendant=buildTextDefendant(this.defendant);\n          text.factual=buildTextFactual(this.factual);\n          text.claims =buildTextClaim(this.claims,this.factual);\n          let data =JSON.stringify(text);\n          createText(data).then(response =>{\n            this.downloadFile(response);\n          }).catch(response=>{\n            this.downloadFile(response);\n          });\n        }\n        return true\n      },\n      downloadFile(data){\n        let blob = new Blob([data], {type: 'application/docx'})\n        let url = window.URL.createObjectURL(blob)\n        const link = document.createElement('a') // 创建a标签\n        link.href = url\n        link.download = '起诉状.doc' // 重命名文件\n        link.click()\n        URL.revokeObjectURL(url)\n      },\n      backClicked(currentPage) {\n        return true //return false if you want to prevent moving to previous page\n      },\n      updateClaims(data){\n        this.claims =data;\n      }\n    },\n  }\n</script>\n"],"sourceRoot":"src/views"}]}